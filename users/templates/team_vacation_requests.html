{% extends "base.html" %}

{% block content %}
  <h1>Solicitudes de vacaciones del equipo</h1>
  {% if requests %}
    <table class="table">
      <thead>
        <tr>
          <th>#</th>
          <th>Empleado</th>
          <th>Fecha inicio</th>
          <th>Fecha fin</th>
          <th>Estado</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        {% for req in requests %}
          <tr>
            <td>{{ req.id }}</td>
            <td>{{ req.employee.first_name }} {{ req.employee.last_name }}</td>
            <td>{{ req.start_date }}</td>
            <td>{{ req.end_date }}</td>
            <td>
              <span class="badge 
                {% if req.status == 'PENDING' %}bg-warning text-dark
                {% elif req.status == 'APPROVED' %}bg-success
                {% elif req.status == 'REJECTED' %}bg-danger
                {% endif %}">
                {{ req.get_status_display }}
              </span>
            </td>
            <td>
              <a href="{% url 'update_vacation_request' req.id %}" class="btn btn-primary btn-sm">Actualizar</a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>No hay solicitudes para revisar.</p>
  {% endif %}
{% endblock %}
